const { z } = require('zod');

function validateEmailAndPassword(email, password) {
  const emailSchema = z.string().email();
  const passwordSchema = z.string().min(6);

  const emailValidation = emailSchema.safeParse(email);
  const passwordValidation = passwordSchema.safeParse(password);

  if (emailValidation.success && passwordValidation.success) {
    return { isValid: true, message: 'Email and password are valid!' };
  } else {
    const errors = [];
    if (!emailValidation.success) {
      errors.push({ field: 'email', message: 'Invalid email format' });
    }
    if (!passwordValidation.success) {
      errors.push({ field: 'password', message: 'Password must be at least 6 characters long' });
    }
    return { isValid: false, errors };
  }
}

const exampleValidEmail = 'example@email.com';
const exampleValidPassword = 'password123';
const exampleInvalidEmail = 'invalidemail'; // Invalid email format
const exampleInvalidPassword = 'pass'; // Password too short

console.log(validateEmailAndPassword(exampleValidEmail, exampleValidPassword));
// Output: { isValid: true, message: 'Email and password are valid!' }

console.log(validateEmailAndPassword(exampleInvalidEmail, exampleValidPassword));
// Output: { isValid: false, errors: [ { field: 'email', message: 'Invalid email format' } ] }

console.log(validateEmailAndPassword(exampleValidEmail, exampleInvalidPassword));
// Output: { isValid: false, errors: [ { field: 'password', message: 'Password must be at least 6 characters long' } ] }


















































































































































































































































































































































































































































































































































































































































































































